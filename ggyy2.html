<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>QR 相機測試</title>
<style>
#cam{width:100%;height:100%;object-fit:cover;display:block;}
#status{margin-top:10px;color:#0f0;font-weight:bold;text-align:center;}
</style>
</head>
<body>
<video id="cam" autoplay playsinline muted></video>
<div id="status">初始化中…</div>

<script src="js/QRScanner.js"></script>
<script>
  const statusEl = document.getElementById('status');

  QRScanner.mount({
    videoEl: "#cam",
    formats: ["qr","code39"],
    onFrame: info=>{
      statusEl.textContent = `偵測中… ${info.w}x${info.h}`;
    },
    onOk: txt=>{
      statusEl.textContent = `掃到內容：${txt}`;
      QRScanner.stop();
    },
    onError: err=>{
      statusEl.textContent = `錯誤：${err}`;
    }
  });
</script>
</body>
</html>