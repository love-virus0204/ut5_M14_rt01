<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RT 外觀抽驗記錄表</title>
<style>
  body { font-family: "Comic Sans MS", sans-serif; margin: 0; padding: 0; background: #f5f5f5; }
  .container { max-width: 480px; margin: auto; padding: 10px; background: white; box-shadow: 0 0 5px rgba(0,0,0,0.2); }
  .title { font-family: "標楷體"; font-size: 1.4em; text-align: center; margin: 5px 0; font-weight: bold; }
  .topbar { display: flex; justify-content: space-between; align-items: center; font-size: 0.9em; margin-bottom: 5px; }
  label { font-family: "標楷體"; display: inline-block; width: 5em; text-align: justify; text-align-last: justify; }
  input, select, textarea { width: 70%; padding: 5px; margin: 3px 0; font-family: "Comic Sans MS"; }
  .row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px; }
  .row select { width: 25%; } /* 下拉框縮小 */
  .row input.lot-input { width: calc(70% - 30px); } /* 批號輸入框對齊料號 */
  .submit-row { text-align: right; margin-top: 10px; }
  .submit-btn { background: #007bff; color: white; border: none; padding: 10px 18px; border-radius: 6px; font-size: 1em; }
  hr { margin: 10px 0; }
  table { width: 100%; border-collapse: collapse; margin-top: 5px; }
  th, td { border-top: 1px solid #ccc; text-align: center; padding: 2px 0; }
  .note { font-size: 0.8em; color: gray; }
</style>
</head>
<body>
<div class="container">
  <div class="title">RT 外觀抽驗記錄表</div>

  <div class="topbar">
    <div id="tsView"></div>
    <div id="dsView" style="text-align:center; flex-grow:1;"></div>
    <button onclick="history.back()">⤴</button>
  </div>

  <div class="row"><label>檢驗員：</label><input type="text" id="inspector" maxlength="5" placeholder="輸入 5 碼工號"></div>
  <div class="row"><label>料　號：</label><input type="text" id="partNo" placeholder="請輸入 料號 by 7碼"></div>

  <div class="row">
    <label>型　態：</label>
    <select id="lotPrefix">
      <option value=""> </option>
      <option value="FA">FA</option>
    </select>
    <input type="text" class="lot-input" id="lotInput" placeholder="母批[-子批] (母批3碼英數禁O/I)">
  </div>

  <div class="row"><label>批　號：</label><input type="text" id="lotFull" readonly></div>
  <div class="row"><label>數　量：</label><input type="number" id="qty" min="1" placeholder="輸入批量"></div>
  <div class="row"><label>備　註：</label><textarea id="remark" readonly>目前不開放輸入</textarea></div>

  <div class="submit-row"><button class="submit-btn" onclick="handleSubmit()">送出</button></div>

  <hr>
  <table